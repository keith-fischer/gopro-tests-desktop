#!/usr/bin/osascriptlog "Start"tell application "Finder"	set _rec to bounds of window of desktop	set _width to item 3 of _rec	set _height to item 4 of _recend tellset qap to "GoPro Quik"-- try graceful exittry	if application qap is running then		log "quit " & qap		tell application qap to quit		delay 15	else		log "Not running " & qap	end ifend tryset gap to "GoPro"--kill Quik and Gopro processestry	tell application "System Events"		log "searching stuck processes"		set process_list to name of every process		if qap is in process_list then			log "kill " & qap			set ThePID to unix id of process qap			do shell script "kill -KILL " & ThePID		end if		if gap is in process_list then			log "kill " & gap			set ThePID to unix id of process contains gap			do shell script "kill -KILL " & ThePID		end if			end tellend try-- if qap is in process_list then-- 	log "kill " & qap-- 	do shell script ("killall " + qap)-- end if-- if gap is in process_list then-- 	log "kill GoPro services"-- 	do shell script ("killall " + gap)-- end ifdelay 5--set ap to "GoPro"if application qap is not running then	--tell application ap to run --start gopro if already running is activated	log "Start " & qap	launch application qap	delay 10end ifset _count to 30repeat 30 times	_count = _count - 1	if application qap is not running then		if _count < 1 then			log "FAILED to START: " & qap			error number -128		else			delay 1		end if	else		log "PASSED STARTED " & qap		exit repeat	end ifend repeatdelay 5log "activate to frontmost " & qaptell application qap to activate -- needs to be in front--tell application "Finder" to set frontmost of process qap to truetry	tell application "System Events" to tell application process qap		log "resize window " & qap		get properties of window 1		set _newwidth to 1280		set size of window 1 to {_newwidth, 836}		set _x to _width - _newwidth - 10		log "x=" & _x		set position of window 1 to {_x, 10}	end tellon error errormessage	log errormessageend trylog "Done with " & qap